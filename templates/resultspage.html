<!DOCTYPE html>
{% load static %}
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" type="text/css" href="{% static 'scoutingtool/resultpage_stylesheet.css' %}"/>
    <title>Results</title>
</head>
<body>
{#<div>#}
{#    {% for player in playerdata.items %}#}
{#            <a target="_blank"#}
{#               href="https://www.transfermarkt.nl/schnellsuche/ergebnis/schnellsuche?query={{ player }}"> {{ player }}</a>#}
{#    {% endfor %}#}
{#</div>#}

{#uncomment this for plots â†“#}
{#<div>#}
{#{% include 'interactiveplots.html' %}#}
{#</div>#}

{% for player in playerdata.items %}
    <script>
        console.log("{{ player.1.general_player_info.Naam }}")
        var inputElement = document.createElement('input');
        inputElement.type = "button"
        inputElement.value = "{{ player.1.general_player_info.Naam }}"
        inputElement.addEventListener('click', function () {
            playerSelector({{ player.0 }});
        });
        document.body.appendChild(inputElement);
    </script>
{% endfor %}

<div class="player-info-div">
    <h1>Player Info</h1>
</div>

<script>
    function playerSelector(player_id) {
        const doc = new DOMParser().parseFromString("{{ jsondata }}", "text/html");
        const parsed_jsondata = JSON.parse(doc.documentElement.textContent)
        console.log(parsed_jsondata)
    }
</script>
</body>
</html>